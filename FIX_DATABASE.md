# Исправление проблемы с исчезновением слов после рестарта

## Проблема
На Render файловая система ephemeral - все файлы удаляются при каждом рестарте. SQLite база данных хранится в файле, поэтому она теряется.

## Решение
Использовать PostgreSQL, который Render предоставляет бесплатно и который сохраняется между рестартами.

## Быстрая инструкция

### 1. Создайте PostgreSQL базу данных на Render

1. Зайдите на https://dashboard.render.com
2. Нажмите "New +" → "PostgreSQL"
3. Заполните форму:
   - **Name**: `vocabulary-db`
   - **Database**: `vocabulary`
   - **Plan**: **Free**
4. Нажмите "Create Database"

### 2. Получите DATABASE_URL

После создания базы данных:
1. Откройте созданную базу данных
2. В разделе "Connections" найдите **Internal Database URL**
3. Скопируйте этот URL

### 3. Добавьте DATABASE_URL в переменные окружения бота

1. Откройте ваш Background Worker сервис на Render
2. Перейдите в раздел "Environment"
3. Добавьте новую переменную:
   - **Key**: `DATABASE_URL`
   - **Value**: вставьте скопированный Internal Database URL
4. Нажмите "Save Changes"

### 4. Перезапустите бота

Render автоматически перезапустит бота после добавления переменной окружения.

## Проверка

После перезапуска бота:
1. Проверьте логи бота - должно быть сообщение "Используется PostgreSQL"
2. Попробуйте добавить слова командой `/add_words`
3. Перезапустите бота - слова должны сохраниться!

## Важно

- Используйте **Internal Database URL** (не External)
- После добавления DATABASE_URL код автоматически переключится на PostgreSQL
- Для локальной разработки ничего менять не нужно - код использует SQLite, если DATABASE_URL не установлен

